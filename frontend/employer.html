<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./node_modules/web3/dist/web3.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script>
        if (typeof web3 !== 'undefined') {
            web3 = new Web3(web3.currentProvider);
        } else {
            web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:7545"));
        }
        web3.eth.defaultAccount = web3.eth.accounts[0];
        var propertyContract = new web3.eth.Contract([
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "_employeeAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "_name",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_KYC_UID",
          "type": "uint256"
        }
      ],
      "name": "eventAddEmployee",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "_employerAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "_name",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_KYC_UID",
          "type": "uint256"
        }
      ],
      "name": "eventAddEmployer",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "_employee",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_jobId",
          "type": "uint256"
        }
      ],
      "name": "jobAccepted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "_employer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "_employee",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_jobId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "_status",
          "type": "bool"
        }
      ],
      "name": "jobOfferStatus",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_jobId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "_jobOwner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "_titile",
          "type": "string"
        }
      ],
      "name": "jobPost",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "appliedJobs",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [],
      "name": "employeeCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "employeeList",
      "outputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "KYC_UID",
          "type": "uint256"
        },
        {
          "internalType": "enum jobPortal.rating",
          "name": "Rating",
          "type": "uint8"
        },
        {
          "internalType": "uint8",
          "name": "experence",
          "type": "uint8"
        },
        {
          "internalType": "bool",
          "name": "status",
          "type": "bool"
        },
        {
          "internalType": "address payable",
          "name": "wallet",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "currentJobId",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "employees",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [],
      "name": "employerCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "employerList",
      "outputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "KYC_UID",
          "type": "uint256"
        },
        {
          "internalType": "address payable",
          "name": "wallet",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "employers",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "employersWisejobID",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [],
      "name": "jobCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "jobList",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "jobId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "titile",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "timeInDays",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "status",
          "type": "bool"
        },
        {
          "internalType": "address payable",
          "name": "jobOwner",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "joboffer",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [],
      "name": "openTransactions",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_KYC_UID",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "_experence",
          "type": "uint8"
        },
        {
          "internalType": "address payable",
          "name": "_wallet",
          "type": "address"
        }
      ],
      "name": "addEmployee",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_KYC_UID",
          "type": "uint256"
        },
        {
          "internalType": "address payable",
          "name": "_wallet",
          "type": "address"
        }
      ],
      "name": "addEmployer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_titile",
          "type": "string"
        },
        {
          "internalType": "uint8",
          "name": "_timeInDays",
          "type": "uint8"
        }
      ],
      "name": "postJob",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_jobId",
          "type": "uint256"
        }
      ],
      "name": "getjob",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_jobId",
          "type": "uint256"
        }
      ],
      "name": "applyjob",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_jobId",
          "type": "uint256"
        }
      ],
      "name": "getApplicants",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_address",
          "type": "address"
        }
      ],
      "name": "applicantDetails",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "enum jobPortal.rating",
          "name": "",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_jobId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_employee",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "_action",
          "type": "bool"
        }
      ],
      "name": "applicationAction",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_jobId",
          "type": "uint256"
        }
      ],
      "name": "acceptJob",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_jobId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_rating",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_employee",
          "type": "address"
        }
      ],
      "name": "rateEmployee",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],'0x2cC05d2EFc8A42Ca6Db24aBD35BE88E0F74b5947');

        function addProperty() {
            propertyContract.methods.addProperty($("#PropertyId").val(), $("#PropertyName").val(), $("#PropertyOwner").val(), $("#PropertyValue").val(), $("#PropertyArea").val()).send(
                {
                    from: '0x05Eb1Ed44Ee20BF405433DB228194C07f9b741df', gas: 107035
                }).on('transactionHash', function (hash) {
                    document.getElementById("AddPropertyResult").innerHTML = "Transaction hash is " + hash
                })
        }

        function queryPropertyById() {
            propertyContract.methods.queryPropertyById($("#QueryPropertyId").val()).call().then(function (result) {
                document.getElementById("PropertyDetails").innerHTML = "Property Name is " + result[0] + " and Owner is " + result[1]
            })
        }

        function transferProperty() {
            propertyContract.methods.transferPropertyOwnership($("#TransferPropertyId").val(), $("#NewOwner").val()).send(
                { from: '0x05Eb1Ed44Ee20BF405433DB228194C07f9b741df', gas: 107035 }).on('transactionHash', function (hash) {
                    document.getElementById("TransferPropertyResult").innerHTML = "Transaction hash is " + hash
                })
        }
    </script>
</head>

<body>
    <div class="container">
        <h1>Property Transfer App</h1>
        </p>
        <h2 id="instructor"></h2>
        <table>
            <tr>
                <td>
                    <label for="Id" class="col-lg-2 control-label">Property Id</label>
                </td>
                <td>
                    <label for="name" class="col-lg-2 control-label">Property Name</label>
                </td>
                <td>
                    <label for="owner" class="col-lg-2 control-label">Property Owner</label>
                </td>
                <td>
                    <label for="value" class="col-lg-2 control-label">Property Value</label>
                </td>
                <td>
                    <label for="area" class="col-lg-2 control-label">Property Area</label>
                </td>
                <td></td>
            </tr>
            <tr>
                <td>
                    <input id="PropertyId" type="text">
                </td>
                <td>
                    <input id="PropertyName" type="text">
                </td>
                <td>
                    <input id="PropertyOwner" type="text">
                </td>
                <td>
                    <input id="PropertyValue" type="text">
                </td>
                <td>
                    <input id="PropertyArea" type="text">
                </td>
                <td>
                    <button id="button" onclick="addProperty()">Add New Property</button>
                </td>
            </tr>
        </table>
        </br>
        <textarea id="AddPropertyResult" style="border:none;width:400px;"></textarea>
        <h2 id="instructor"></h2>
        <label for="area" class="col-lg-2 control-label">Property Id</label>
        <input id="QueryPropertyId" type="text">
        <button id="queryPropertyById" onclick="queryPropertyById()">Query Property</button>
        </br>
        <textarea id="PropertyDetails" style="border:black;width:1000px;"></textarea>
        </br>
        </br>
        </br>
        <h2 id="instructor"></h2>
        <label for="area" class="col-lg-2 control-label">Property Id</label>
        <input id="TransferPropertyId" type="text">
        <label for="area" class="col-lg-2 control-label">New Owner</label>
        <input id="NewOwner" type="text">
        <button id="TransferPropertyOwnership" onclick="transferProperty()">Transfer Ownership</button>
        </br>
        <textarea id="TransferPropertyResult" style="border:none;width:400px;"></textarea>
    </div>
</body>

</html>
